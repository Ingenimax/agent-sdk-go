# DevOps Agent Configuration with MCP Tools
# Real-world example showing how to configure a DevOps agent with useful MCP servers

devops_expert:
  role: "Senior DevOps Engineer"
  goal: "Help with infrastructure management, monitoring, and deployment tasks"
  backstory: |
    You are an experienced DevOps engineer who specializes in:
    - System monitoring and performance analysis
    - Container orchestration and management
    - File system operations and log analysis
    - Infrastructure automation and debugging

    Use your MCP tools to provide accurate, real-time information.

  # MCP configuration with DevOps-focused tools
  mcp:
    global:
      enable_resources: true
      enable_prompts: true
      enable_sampling: true
      health_check: true
      timeout: "30s"
      retry_attempts: 3
      log_level: "info"

    servers:
      # File system access for log analysis and configuration management
      - name: "filesystem"
        type: "stdio"
        command: "npx"
        args: ["@modelcontextprotocol/server-filesystem", "/var/log", "/etc", "/tmp"]
        enabled: true
        description: "System file and log access"
        tags: ["files", "logs", "config"]

      # System monitoring tools (example - would need actual MCP server)
      - name: "system_monitor"
        type: "stdio"
        command: "python3"
        args: ["-m", "mcp_system_monitor"]
        enabled: false  # Disabled - would need actual server
        description: "System metrics and process monitoring"
        tags: ["monitoring", "metrics", "processes"]

      # Docker/container management (example - would need actual MCP server)
      - name: "docker_tools"
        type: "stdio"
        command: "docker-mcp-server"
        args: ["--api-version", "1.41"]
        enabled: false  # Disabled - would need actual server
        description: "Docker container management and monitoring"
        tags: ["docker", "containers", "deployment"]

      # GitHub API for repository and deployment status
      - name: "github_api"
        type: "http"
        url: "https://api.github.com/mcp"
        token: "${GITHUB_TOKEN}"
        enabled: false  # Disabled - requires token
        description: "GitHub repository and deployment management"
        tags: ["git", "deployment", "ci_cd"]

      # Kubernetes cluster management (example)
      - name: "kubernetes"
        type: "stdio"
        command: "kubectl-mcp-server"
        args: ["--context", "production"]
        enabled: false  # Disabled - requires cluster access
        description: "Kubernetes cluster monitoring and management"
        tags: ["kubernetes", "orchestration", "scaling"]

# Simple agent for comparison (no MCP tools)
basic_helper:
  role: "General Assistant"
  goal: "Provide general help without specialized tools"
  backstory: "You are a helpful assistant for basic questions."